<!DOCTYPE html>
<html lang="es-ES">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ejercicio 3 - Román Kornyeyev</title>
</head>
<body>
    <main class="main">
        <h1>Formulario</h1>
        <form id="formulario">
            <!-- Como has comentado que da igual que hagamos un nuevo formato de formulario -->
            <!-- He optado por rehacer el formato del ejercicio 1, añadiendo labels y divs para tenerlo un poco más organizado -->
            <div>
                <label for="nombre">Nombre:</label>
                <input type="text" id="nombre" name="nombre">
            </div>
            <div>
                <label for="dni">DNI:</label>
                <input type="text" id="dni" name="dni">
            </div>
            <div>
                <label for="edad">Edad:</label>
                <input type="number" id="edad" name="edad" min="18" max="99">
            </div>
            <button type="submit">Enviar</button>
        </form>
    </main>
    <script>
        const formulario = document.getElementById("formulario");
        const nombreInput = document.getElementById("nombre");
        const dniInput = document.getElementById("dni");
        const edadInput = document.getElementById("edad");
        
        // Evento al enviar el form
        formulario.addEventListener("submit", function(event) {
            // Validar nombre
            if (nombreInput.value.trim() === "") {
                event.preventDefault();
                alert("El campo Nombre es obligatorio");
                return;
            }
        
            // Validar DNI
            const dniPattern = /^\d{8}[a-zA-Z]$/;
            if (!dniPattern.test(dniInput.value)) {
                event.preventDefault();
                alert("El campo DNI debe tener 8 números y 1 letra");
                return;
            }
        
            // Validar edad
            if(edadInput.value){ //si el campo tiene valor
                if (edadInput.value <18 || edadInput.value>99) { //y si ese valor está por debajo o por arriba del límite
                    event.preventDefault();
                    alert("El campo Edad debe ser un número entre 18 y 99"); //alert del error
                    return;
                }
            }
        });
    </script>
</body>
</html>